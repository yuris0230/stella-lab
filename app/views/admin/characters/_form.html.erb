<div class="auth-card">
  <%= form_with model: [:admin, @character], local: true do |f| %>
    <div class="app-form-group">
      <%= f.label :name, "Name", class: "app-form-label" %>
      <%= f.text_field :name, class: "app-form-control" %>
    </div>

    <div class="app-form-group">
      <%= f.label :slug, "Slug", class: "app-form-label" %>
      <span class="app-form-hint">Used in URL (e.g. nanoha, hayate).</span>
      <%= f.text_field :slug, class: "app-form-control" %>
    </div>

    <div class="app-form-group">
      <%= f.label :job, "Role", class: "app-form-label" %>
      <%= f.select :job,
                   Character.jobs.keys.map { |k| [k.upcase, k] },
                   { include_blank: "- Select role -" },
                   class: "app-form-control" %>
    </div>

    <div class="app-form-group">
      <%= f.label :rarity, "Rarity", class: "app-form-label" %>
      <%= f.select :rarity,
                   Character.rarities.keys.map { |k| [k.upcase, k] },
                   { include_blank: "- Select rarity -" },
                   class: "app-form-control" %>
    </div>

    <div class="app-form-group">
      <%= f.label :element, "Element", class: "app-form-label" %>
      <%= f.select :element,
                   Character.elements.keys.map { |k| [k.upcase, k] },
                   { include_blank: "- Select element -" },
                   class: "app-form-control" %>
    </div>

    <div class="app-form-group">
      <%= f.label :summary, "Summary", class: "app-form-label" %>
      <%= f.text_area :summary, rows: 4, class: "app-form-control" %>
    </div>

    <div class="app-form-group">
      <%= f.label :portrait, "Card image", class: "app-form-label" %>
      <span class="app-form-hint">Upload portrait image for grid view.</span>
      <%= f.file_field :portrait, accept: "image/*", class: "app-form-control" %>

      <% if @character.portrait.attached? %>
        <div style="margin-top: 8px;">
          <%= image_tag @character.portrait.variant(resize_to_limit: [200, 200]),
                        alt: @character.name,
                        style: "border-radius: 12px;" %>
        </div>
      <% end %>
    </div>

    <div class="form-actions">
      <%= f.submit "Save", class: "app-button-primary" %>
      <%= link_to "Cancel", admin_characters_path, class: "app-button-secondary" %>
    </div>
  <% end %>
</div>