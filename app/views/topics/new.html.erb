<div class="page-content">
  <header class="page-header">
    <h1 class="page-title">New topic</h1>
    <p class="page-lead">
      Start a new discussion. The first post will be created together with the topic.
    </p>
  </header>

  <% if @topic.errors.any? %>
    <div class="form-errors">
      <p><strong>There were some problems:</strong></p>
      <ul>
        <% @topic.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with model: @topic, url: topics_path, local: true, html: { class: 'topic-form' } do |f| %>
    <div class="form-group">
      <%= f.label :title, 'Title', class: 'form-label' %>
      <%= f.text_field :title, class: 'form-input',
                       placeholder: 'What do you want to discuss?' %>
    </div>

    <div class="form-group">
      <%= f.label :first_body, 'First post', class: 'form-label' %>
      <%= text_area_tag 'topic[first_body]', @topic_first_body,
                        rows: 6, class: 'form-textarea',
                        placeholder: 'Write the first message for this topicâ€¦' %>
    </div>

    <div class="form-actions">
      <%= f.submit 'Create topic', class: 'primary-button' %>
      <%= link_to 'Cancel', topics_path, class: 'secondary-link' %>
    </div>
  <% end %>
</div>